{
  "name": "dtrace-provider",
  "version": "0.0.9",
  "description": "Native DTrace providers for node.js applications",
  "keywords": [
    "dtrace"
  ],
  "homepage": "https://github.com/chrisa/node-dtrace-provider#readme",
  "author": {
    "name": "Chris Andrews",
    "email": "chris@nodnol.org"
  },
  "main": "./dtrace-provider.js",
  "repository": {
    "type": "git",
    "url": "http://github.com/chrisa/node-dtrace-provider.git"
  },
  "scripts": {
    "install": "node-waf clean ; node-waf configure build"
  },
  "readme": "# dtrace-provider - Native DTrace providers for Node.js apps.\n\nThis extension allows you to create native DTrace providers for your\nNode.js applications. That is, to create providers and probes which\nexpose information specific to your application, rather than\ninformation about the node runtime.\n\nYou could use this to expose high-level information about the inner\nworkings of your application, or to create a specific context in which\nto look at information from other runtime or system-level providers. \n\nThe provider is not created in the usual way, by declaring it and then\nchanging the build process to include it, but instead dynamically at\nruntime. This is done entirely in-process, and there is no background\ncompiler or dtrace(1) invocation. The process creating the provider\nneed not run as root.\n\n## INSTALL\n\n    $ npm install dtrace-provider\n\n## EXAMPLE\n\nHere's a simple example of creating a provider:\n\n    var d = require('dtrace-provider');\n\n    var dtp = d.createDTraceProvider(\"nodeapp\");\n    dtp.addProbe(\"probe1\", \"int\", \"int\");\n    dtp.addProbe(\"probe2\", \"char *\");\n    dtp.enable();\t   \n    dtp.fire(\"probe1\", function() { return [1, 2]; });\n    dtp.fire(\"probe2\", function() { return [\"hello, dtrace\"]; });\n\nThis example creates a provider called \"nodeapp\", and adds two\nprobes. It then enables the provider, at which point the provider\nbecomes visible to DTrace.\n\nThe probes are then fired, which produces this output:\n\n    $ sudo dtrace -Z -n 'nodeapp*:::probe1{ trace(arg0); trace(arg1) }'  \\\n                     -n 'nodeapp*:::probe2{ trace(copyinstr(arg0));  }'\n    dtrace: description 'nodeapp*:::probe1' matched 0 probes\n    dtrace: description 'nodeapp*:::probe2' matched 0 probes\n    CPU     ID                    FUNCTION:NAME\n      1 123562                      func:probe1                 1                2\n      1 123563                      func:probe2   hello, dtrace                    \n\nArguments are captured by a callback only executed when the probe is\nenabled. This means you can do more expensive work to gather arguments.\n\n## PLATFORM SUPPORT\n\nThe nature of this extension means that support must be added for each\nplatform. Right now that support is only in place for OS X, 64 bit and\nSolaris, 32 bit.\n\n## LIMITATIONS\n\nThe maximum number of probe arguments is 6. There's scope to increase\nthis, with some extra complexity in the platform-specific code.\n \nThe data types supported are \"int\" and \"char *\". There's definitely\nscope to improve this, with more elaborate argument handling - see\nTODO.md\n\nYou can only create a provider once - although you don't have to do it\nimmediately, once you've set up a provider you can't change its\ndefinition. It should be possible to enable updates - again, see\nTODO.md.\n\n## CAVEATS\n\nPerformance is not where it should be, most especially the\ndisabled-probe effect. Probes are already using the \"is-enabled\"\nfeature of DTrace to control execution of the arguments-gathering\ncallback, but too much work needs to be done before that's\nchecked. That being said, unless your (disabled) probes are\ninsanely hot, this shouldn't be a problem.\n\nPlease see TODO.md for the details. \n\n## CONTRIBUTING\n\nThe source is available at:\n\n  https://github.com/chrisa/node-dtrace-provider.\n\nFor issues, please use the Github issue tracker linked to the\nrepository. Github pull requests are very welcome. \n\n## OTHER IMPLEMENTATIONS\n\nThis node extension is derived from the ruby-dtrace gem, via the Perl\nmodule Devel::DTrace::Provider, both of which provide the same\nfunctionality to those languages.\n",
  "readmeFilename": "README.md",
  "_id": "dtrace-provider@0.0.9",
  "dist": {
    "shasum": "8459fb26d734a7244a449ba1cfc925c1c9c2187e"
  },
  "_from": "dtrace-provider@0.0.9"
}
